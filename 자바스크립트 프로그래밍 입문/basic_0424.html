<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>

        //  기본 자료형과 객체 자료형의 차이
 
        // 7-1 기본자료형 숫자 문자열 boolean 
        let number = 273;
        let string = '안녕!';
        let boolean = true;
        
        console.log(number);
        console.log(typeof number);

        console.log(string);
        console.log(typeof string);

        console.log(boolean);
        console.log(typeof boolean);

        // 7-2 객체숫자 , 문자열 , boolean
        let number2 = new Number(273);
        let string2 = new String('반가워');
        let boolean2 = new Boolean(false);

        console.log(number2);
        console.log(typeof number2);

        console.log(string2);
        console.log(typeof string2);

        console.log(boolean2);
        console.log(typeof boolean2);
        // object 가 출력이 된다면 일반적인 숫자 문자열 boolean 이 아니라 객체라는 의미

        // 7-3
        let string3 = '과자|1500원';
        console.log(string3.split('|'));

        let string4 = new String('과자|1500원');
        console.log(string4.split('|'));
        // 기본자료형과 객체 자료형 모두 속성과 메서드를 사용할수 있따 

        // 속성과 메서드는 객체가 가질수 있는데
        // 숫자 문자열 boolean등 기본자료형도 속성과 메서드를 가진다 ??
       // 기본자료형의 속성 또는 메서드를 사용할때 기본자료형이 자동으로 객체로 변환 해주기 때문
        
        // 기본 자료형의 숫자 타입은 메서드를 사용하게되면
        // 자동으로 Number 객체 자료형으로 변환되서
        // 속성이나 메서드를 사용할수 있음
        
        //  7-4 기본자료형에 속성 또는 메서드추가
        // let primNumber = 272;
        // primNumber.method = function() {
        //     return 'prim Method';
        // };
        // console.log(primNumber.method());
        
        // 기본자료형은 객체가 아니므로 속성과 메서드를 추가 할수가 없다
        // TypeError: primNumber.method is not a function
 
        // 7-5  프로토 타입에 메서드를 추가
        let primitiveNumber = 272;
        Number.prototype.method = function(){
            return 'primitiveNumber.method()';
        };

        console.log(primitiveNumber.method());
        // 프로토 타입은 모든 객체가 가져야하는 속성과 메서드를 정의할수 있는 공간이다
        
        let primiString = ' 테스트 '; // let 변수 타입 primiString 식별자,변수이름
        String.prototype.test = function() {   // String객체의 프로토 타입 ,test는 그냥 메서드의 이름
            return '테스트 중입니다 test()메서드';
        };
        console.log(primiString.test());
        // primiString.test()로 test 메서드 호출

        // String객체의 프로토타입객체에서  만든 test() 를 사용할수있음
        // 뭔말인지 잘 모르겠따;;

        // console.log(test()); 불가능
        // test()가 String.prototype에 정의되어있어서

        let text = '문자열로 다시 테스트';  // let타입변수 text 선언 '문자열로 다시테스트'할당
        String.prototype.뭐로하지 =  function(){   // text가 문자열이니 String.prototype.메서드로쓸이름 = 
            return '문자열로 다시 테스트';
        };
        console.log(text.뭐로하지());   // 호출은 console.log(식별자.메서드이름());

        // Number 객체
        // 7-6 숫자 생성
        let numberFromLiteral = 271;
        let numberFromConstructor = new Number(271);

        console.log(numberFromLiteral);
        console.log(typeof numberFromLiteral);
        
        console.log(numberFromConstructor);
        console.log(typeof numberFromConstructor);
        //Uncaught ReferenceError: conosle is not defined
        // 오타 주의

        
        // 7-7
        let num123 = 272.12345;
        console.log(num123.toFixed(1));
        console.log(num123.toFixed(4));

        // 아니 7-5에서 prototype 쓰던데
        // 기본형 숫자타입이 어떻게 바로 메서드 쓰는데?
        // toFixed() 는 Number 객체의 내포되어있고
        // 기본자료형의 속성과 메서드를 사용 할때 자동으로 객체로 변환되기 때문 이라고함;
        // 7-5 prototype으로 만든거는 기존에 Number 객체의 내포되어있지 않은 메서드를 만드느라 prototype을 사용함


        // 클래스의 속성
        // 7-8 클래스에 속성과 메서드 추가
        class Test{} // 비어있는 클래스

        Test.vari = 275;    // Test라는 클래스에 멤버변수 275
        Test.method = function() {};
        // new 연산자로 객체 생성도 없고

        // class Test{ 
        // let var = 275;   
        // method() = function() {};
        //      } 
        // 도 아니고 저렇게 할수가 있구나   
            
        console.log(Test.vari);
        console.log(Test.method);

        // Number 클래스의 속성
        // 7-9 Number 클래스의 MAX_VALUE 속성
        let numA = Number.MAX_VALUE;    // JS에서 숫자가 나타낼수있는 최대숫자
        let numB = Number.MAX_VALUE+1;  // 나타낼수있는 최대 숫자 +1

        console.log(numA);  // 1.7976931348623157e+308
        console.log(numB);  // 1.7976931348623157e+308
        //  +1 더해도 오류없이 그냥 출력됨 

        // 7-10 infinity로 변환되는 숫자
        let numAA = Number('0.0000000000001e+308');
        let numBB = Number.MAX_VALUE + numAA;

        console.log(numAA); // 1e+295
        console.log(numBB); // Infinity
        // JS 숫자가 나타낼수있는 최대숫자를(MAX_VALUE)를 초과해서 
        // Infinity 나로 출력됨

        // String 객체 
        // 7-11 String객체 생성
        let stringFromLiteral = '반가워 기본형 String이야';
        let stringFromConstructor = new String('반가워 String 객체야');

        let string00 = 'abcdefg';
        string00.toUpperCase(); // 대문자로 변환해서 출력
        console.log(string00);  // abcdefg ??? 대문자로 해준다며

        // 7-13
        string00 = string00.toUpperCase();
        console.log(string00);  // ABCDFG
        
        string00 = string00.substr(1,5);
        console.log('substr (1,5 ) = ' +string00);

        string00 = string00.substring(0,4);
        console.log('substring(0,4)'+string00);

        string00 = string00.substr(1,3);
        console.log('substr(1,3)'+string00);

        string00=string00.charAt(2);
        console.log(string00);

        // 7-14 기본적인 메서드
        let str01 ='Hello , world';

        // 메서드사용  
        
        str01 = str01.toLowerCase();    // 소문자로
        str01 = str01.replace(' ', '|');// replace(A,B) A와 B를 바꿈
        let array = str01.split('|');   

        // 출력
        console.log(str01);
        console.log(array);
        
        
        // 7- 15 메서드 체이닝
        // String 객체의 메서드는 String 객체를 리턴하므로 연결해서 사용할수 있다고함

        let str02 = 'Hello worold';
        
        let arr = str02.toLowerCase().replace('' , '|').split('|');
        console.log(str02);

        // 7-16 indexOf() 메서드
        let str03 = '오늘은 날좋은 4월이야'
        
        // 문자열 내무에 '좋은' 이라는 문자열이 있는지 확인
        if (str03.indexOf('좋은') >=0 ){
            console.log('4월 24일 마지막주 월요일이야');
        }

        // 7-17 split() 메서드 문자열 분해
        let str04 =  '감자,고구마,수박,사과,바나나';
        let arra = str04.split(',');    // split(x) x로 문자열을 잘라 배열로 반환
        console.log(arra);

        // Date 객체
        
        // Date 객체 생성방법
        // new Date() 현재 시간으로 객체 생성
        // new Date(유닉스_타임)
        // new date(시간 문자열) 문자열로 Date 객체를 생성
        // new Date(연,월-1 , 일 , 시간 , 분 , 초 ,밀리초)

        // 7-18   
        let dateA = new Date();
        console.log(dateA); // 현재 시간으로 , 
        // Mon Apr 24 2023 15:53:06 GMT+0900 (한국 표준시)
         let dateB = new Date(692281800000);
         console.log(dateB);
        // 문자열 기반으로 Date 객체 생성
        let dateC = new Date('April 24 , 2023 15:56:52')
        console.log(dateC);
        // 시간 요소 (연, 월-1 , 일, 시간, 분 , 초 밀리초)
        let dateD = new Date(2023,4 - 1,24,15,57,15,11);
        console.log(dateD);

        // Date객체는 getㅇㅇㅇ() 메서드만 가짐
        // FullYear,Day,Hour,Minutes,Seconds 등등

        // 7-19 시간더하기
        // 현재 시간에 1년 11개월 3일을 더해서 출력함
        let real_date = new Date();
        console.log(real_date);
        
        real_date.setFullYear(real_date.getFullYear()+1);
        real_date.setMonth(real_date.getMonth()+11);
        real_date.setDate(real_date.getDate()+3);

        console.log(real_date);
        
        // 7-20 시간 간격구하기

        let now = new Date();
        let ago = new Date('January ,20 1994');

        // 시간 간격구하기
        let interval = now.getTime() - ago.getTime();
        interval = Math.floor(interval / (1000*60*60*24));
        // 1초 * 60초 * 60분 * 24시간

        console.log(`태어나고 ${interval} 일 지났습니다`);

        // Array 객체
        // concat() - 매개변수로 배열의 요소를 모두 합쳐 배열을 만듬
        // join() - 배열 안의 모든 요소를 문자열로 만듬어서
        // pop()  배열의 마지막 요소를 제거하고
        // push() -  배열의 마지막 부분에 새로운 요소를 추가함
        // reverse() - 배열의 요소순서를 뒤집느다
        // slice()  지정한 부분을 리전
        // sort() - 배열의 요소를 정렬함
        // splice() 배열 요소의 지정한 부분을 삭제하고 삭제한 요소를 리턴

        let array00 = [
          {
            name: '고구마',
            price: 5000
          }  ,
          {
            name: '용과',
            price: 9999
          } ,
          {
            name: '귤',
            price : 3000
          }

        ];

        let popped = array00.pop();
        console.log('-배열에서 꺼낸 요소');
        console.log(popped); // 배열의 마지막 요소를 제거하고 리턴

        console.log('-pop() 메서드를 호출한 이후의 배열');
        console.log(array00);
        
        // 배열에 요소를 넣음
        array00.push(popped);
        array00.push({
            name: '사과',
            price: 12000
        });

        console.log('-push()로 메서드를 호출한 이후 배열');
        console.log(array00);



        // 7-9 배열 정렬 sort()
        let arrA =['고구마','감자','바나나'];
        let arrB = [
            {
                name: '고구마',
                price: 1000
            } , {
                name: '감자',
                price : 500
            }, {
                name : '바나나',
                price: 400
            }

        ];

        // 기본배열을 정렬하고 출력
        arrA.sort();
        console.log('- 기본 문자열로 정렬');
        console.log(arrA);
        console.log();  // 줄 한칸 띄우기

        console.log('- 역순 문자열로 정렬 ');
        console.log(arrA.reverse());
        console.log();

        // 객체 내부의 숫자로 정렬
        arrB.sort((itemA,itemB) => {
            return itemA.price - itemB.price;
        }
        );

        console.log('- 객체 내부의 숫자로 정렬하기');
        console.log(arrB);
        console.log();

        // 객체 내부의 문자열로 정렬하고 출력
        arrB.sort((itemA , itemB) => {
            if(itemA.name < itemB.name){
                return -1;
            }else if(itemA.name > itemB.name){
                return 1;
            }else {
                return 0;
            }
        });

        console.log('- 객체 내부의 문자열로 정렬');
        console.log(arrB);


        

    </script>
</body>
</html>